{% extends "base/base.html" %}
{% block title %}
Green Life - Technical support
{% endblock title %}
{% block content %}
    <div class="form_cliente">
        {% if messages %}
            <div class="alert-container">
            {% for message in messages %}
                <div class="alert alert-success auto-hide" role="alert">
                    {{ message }}
                </div>
            {% endfor %}
            </div>
        {% endif %} 
        <script>
            // Esperar 3 segundos y luego ocultar los mensajes
            document.addEventListener('DOMContentLoaded', function () {
                const alertElements = document.querySelectorAll('.alert.auto-hide');
                setTimeout(() => {
                    alertElements.forEach(alert => {
                        alert.style.transition = 'opacity 0.5s ease-out';
                        alert.style.opacity = '0'; // Desvanecer mensaje

                        // Opcional: Eliminar el mensaje del DOM después de desvanecerlo
                        setTimeout(() => alert.remove(), 500); // 500ms para coincidir con la transición
                    });
                }, 3000); // Tiempo antes de ocultar (en milisegundos)
            });
        </script>

        <form method="post">
            <h2 style="color: #fff;">Llenado de datos soporte técnico</h2>
            {% csrf_token %}
        
        <div class="m-4">
            {{ form.usuario.label_tag }}
            {{ form.usuario }}
        </div>
        <div class="m-4">
            {{ form.tipo_evento.label_tag }}
            {{ form.tipo_evento }}
        </div>
        <div class="m-4">
            {{ form.descripcion.label_tag }}
            {{ form.descripcion }}
        </div>
        <div class="m-4">
            {{ form.estado.label_tag }}
            {{ form.estado }}
        </div>
        <div class="formulario-equipo">
            <div class="m-4">
                <label for="id_equipo">Equipo relacionado</label>
                {{ form.equipo }}
            </div>
        
            <div class="m-4">
                <label for="id_fecha_mantenimiento">Fecha del mantenimiento</label>
                {{ form.fecha_mantenimiento }}
            </div>
        
            <div class="m-4">
                <label for="id_tipo_mantenimiento">Tipo de mantenimiento</label>
                {{ form.tipo_mantenimiento }}
            </div>
        
            <div class="m-4">
                <label for="id_descripcion_mantenimiento">Descripción del mantenimiento</label>
                {{ form.descripcion_mantenimiento }}
            </div>
        </div>
        <button type="submit" class="btn btn-primary registrocliente">Registrar</button>
    </form>
    </div>    
{% endblock %}